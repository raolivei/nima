[
  {
    "question": "What is Canopy?",
    "answer": "Canopy is Self-hosted personal finance, investment, and budgeting dashboard."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCanopy  \n\n\n**Your financial life. Under one canopy.**\n\nCanopy is a self-hosted personal finance, investment, and budgeting dashboard inspired by Monarch Money, Ghostfolio, and Firefly III. It runs fully local on Raspberry Pi k3s clusters with a lean footprint, storing all data locally without cloud dependencies."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nProject Objectives  \n\n- Combine portfolio, budgeting, and net-worth views into a single dashboard.  \n- Store all data locally â€” no cloud dependencies.  \n- Support multi-currency (CAD, USD, BRL, EUR, GBP) assets.  \n- Allow easy CSV/OFX imports for banks and brokerages.  \n- Run lean â€” optimized for Raspberry Pi hardware.  \n- Be modular so other developers can fork and extend."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDesign Rationale\n\n\n**Why Single Dashboard?**\nFinancial health requires seeing the big picture. Combining portfolio, budgeting, and transactions in one view helps users understand their complete financial situation without switching between tools.\n\n**Why Local Storage?**\n- **Privacy:** Financial data never leaves your control\n- **Security:** No cloud breaches can expose your data\n- **Control:** You decide when and how to back up\n- **Compliance:** Meets data residency requirements\n\n**Why Multi-Currency?**\nModern users often have assets across currencies. Proper currency support enables accurate net worth calculation and meaningful spending analysis regardless of transaction currency.\n\n**Why CSV/OFX Import?**\nMost banks don't offer APIs. CSV/OFX files are universal formats that allow users to import transaction history from any financial institution, making the tool truly platform-agnostic.\n\n**Why Raspberry Pi Optimized?**\nDemocratizes self-hosting by using affordable, low-power hardware. Enables 24/7 operation without significant electricity costs while maintaining full control over data."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCore Features (MVP - Implemented)  \n\n- âœ… Transaction tracking with categories and types (income, expense, transfer, buy, sell)\n- âœ… Multi-currency FX conversions with display currency toggle\n- âœ… Modern Monarch Money-inspired UI with dark mode support\n- âœ… Dashboard with charts and statistics (cash flow, spending by category)\n- âœ… Transaction CRUD API endpoints\n- âœ… Currency conversion API endpoints\n- âœ… CSV import with smart format detection (Monarch Money, Chase, Bank of America, etc.)\n- âœ… Duplicate detection and validation\n- âœ… Investment transaction tracking with ticker symbols\n- âœ… Rich transaction data (merchant, notes, tags, original statement)\n- ðŸ“ˆ Investment portfolio tracking (stocks, ETFs, crypto, cash) - Planned\n- ðŸ’° Budgeting with categories and goals - Planned\n- ðŸ§¾ OFX import - Planned\n- ðŸ“¤ Local backup to S3-compatible storage (MinIO/B2) - Planned\n- ðŸ”’ Encrypted secrets (no external vault) - Planned"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCurrent Version\n\n\n**v0.2.2-dev** - Development build with MVP features (pre-release, not for production use).\n\nSee [CHANGELOG.md](./CHANGELOG.md) for detailed release notes."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nPrerequisites\n\n- Python 3.11+ with venv\n- Node.js 18+ and npm\n- Docker and Docker Compose (for PostgreSQL and Redis)\n- k3s cluster (optional, for production deployment)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBackend Setup\n\n```bash\ncd backend\npython3 -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\nPYTHONPATH=/path/to/canopy python3 -m uvicorn app.server:app --reload --host 0.0.0.0 --port 8000\n```\n\n**Why PYTHONPATH?**\nPython needs to find the `backend` module for absolute imports (`from backend.api import ...`). Setting PYTHONPATH to project root allows imports to work regardless of current directory.\n\n**Why `--reload`?**\nEnables auto-reload on code changes during development, speeding up iteration. Remove in production for better performance.\n\n**Why `0.0.0.0`?**\nBinds to all network interfaces, allowing access from other devices on your network (e.g., testing on mobile). Use `127.0.0.1` for localhost-only access."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFrontend Setup\n\n```bash\ncd frontend\nnpm install\nnpm run dev\n```\n\n**Why Separate Processes?**\nBackend and frontend are independent services. Separating them allows:\n- Independent scaling\n- Different deployment strategies\n- Team members to work on one without affecting the other\n- Technology choices (Python backend, Node.js frontend)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTesting\n\nRun the test script to verify all functionality:\n```bash\n./test_app.sh\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAccess\n\n- Frontend: http://localhost:3000\n- Backend API: http://localhost:8000\n- API Docs: http://localhost:8000/docs"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nRepo Structure  \n\n```\ncanopy/  \n â”œâ”€â”€ backend/  \n â”‚   â”œâ”€â”€ api/          # API endpoints (transactions, currency, budgets, goals)\n â”‚   â”œâ”€â”€ models/       # Pydantic models (transaction, budget, goal, holdings)\n â”‚   â”œâ”€â”€ app/          # FastAPI application\n â”‚   â”œâ”€â”€ ingest/       # CSV/OFX import handlers + Celery tasks\n â”‚   â””â”€â”€ celery/       # Celery config and workers\n â”œâ”€â”€ frontend/  \n â”‚   â”œâ”€â”€ components/   # React components (Sidebar, StatCard, Charts, etc.)\n â”‚   â”œâ”€â”€ pages/        # Next.js pages (dashboard, transactions, budget, goals, etc.)\n â”‚   â””â”€â”€ utils/        # Utility functions (currency, formatting, charts)\n â”œâ”€â”€ k8s/              # Kubernetes manifests for Pi cluster\n â”œâ”€â”€ .github/workflows/  \n â”‚   â””â”€â”€ deploy.yml    # Self-hosted runner CI/CD\n â”œâ”€â”€ CHANGELOG.md      # Version history\n â”œâ”€â”€ ARCHITECTURE.md   # Architecture decisions\n â””â”€â”€ README.md  \n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCSV Import\n\n\nCanopy now supports importing transactions from CSV files with smart format detection:"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nSupported Formats\n\n- **Monarch Money** - Full support including merchant names, categories, tags, and investment transactions\n- **Chase Bank** - Standard CSV export format\n- **Bank of America** - Checking and credit card statements\n- **Wells Fargo** - Transaction history exports\n- **Capital One** - With debit/credit columns\n- **American Express** - Card statements\n- **TD Bank, RBC, Nubank** - And many more\n- **Generic CSV** - Custom field mapping for any format"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nKey Features\n\n- ðŸŽ¯ Automatic format detection\n- ðŸ” Duplicate transaction detection\n- ðŸ’° Multi-currency support\n- ðŸ“Š Import preview before committing\n- ðŸ·ï¸ Rich data support (merchant, tags, notes, original statement)\n- ðŸ“ˆ Investment transaction tracking (Buy/Sell with ticker symbols)\n- ðŸ“ Import history tracking\n\nSee **[CSV_IMPORT_GUIDE.md](./CSV_IMPORT_GUIDE.md)** for detailed instructions and examples."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDocumentation\n\n\n- **[CHANGELOG.md](./CHANGELOG.md)** - Version history and release notes\n- **[MASTER_PROMPT.md](./MASTER_PROMPT.md)** - Complete application recreation guide\n- **[CSV_IMPORT_GUIDE.md](./CSV_IMPORT_GUIDE.md)** - CSV import documentation and format guide\n- **[test_app.sh](./test_app.sh)** - Test script for verifying functionality\n- **[examples/](./examples/)** - Sample CSV files for different formats"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCanopy Architecture & Design Decisions\n\n\nThis document explains the \"why\" behind key architectural and design decisions in Canopy."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTable of Contents\n\n- [Architecture Overview](#architecture-overview)\n- [Technology Choices](#technology-choices)\n- [API Design](#api-design)\n- [Frontend Architecture](#frontend-architecture)\n- [Data Management](#data-management)\n- [Security Considerations](#security-considerations)\n- [Performance Optimizations](#performance-optimizations)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nMonorepo Structure\n\n\n**Decision:** Single repository for backend and frontend\n\n**Why:**\n- **Simplified Development:** One git repo, one clone, unified versioning\n- **Atomic Commits:** Related frontend/backend changes can be committed together\n- **Shared Types:** Can share TypeScript types between frontend and backend (future)\n- **CI/CD Simplicity:** Single pipeline can build and test both\n- **Team Coordination:** Easier to see full context of changes\n\n**Trade-offs:**\n- Larger repository size\n- Requires discipline to keep concerns separated\n- Alternative: Separate repos (more independence, more complex CI/CD)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBackend-Frontend Separation\n\n\n**Decision:** Separate FastAPI backend and Next.js frontend processes\n\n**Why:**\n- **Technology Fit:** Python excels at data processing, TypeScript/React for UI\n- **Independent Scaling:** Can scale backend and frontend independently\n- **Team Structure:** Backend and frontend developers can work independently\n- **Deployment Flexibility:** Can deploy to different servers/regions\n- **Testing:** Can test APIs independently of UI\n\n**Trade-offs:**\n- More complex deployment (two services to manage)\n- CORS configuration needed\n- Network latency between services\n- Alternative: Server-side rendering with Python templates (simpler, less flexible)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFastAPI Over Django/Flask\n\n\n**Decision:** Use FastAPI for backend API\n\n**Why:**\n- **Performance:** Async/await support enables high concurrency\n- **Type Safety:** Built-in Pydantic validation catches errors early\n- **Auto Documentation:** OpenAPI/Swagger docs generated automatically\n- **Modern Python:** Uses Python 3.10+ features (type hints, async)\n- **Fast Development:** Less boilerplate than Django, more features than Flask\n\n**Trade-offs:**\n- Smaller ecosystem than Django\n- Requires Python 3.7+ (not an issue for new projects)\n- Alternative: Django (more batteries included, but heavier)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nNext.js Over Create React App\n\n\n**Decision:** Use Next.js instead of plain React\n\n**Why:**\n- **SSR/SSG:** Better SEO and initial load performance\n- **File-Based Routing:** Simpler than React Router configuration\n- **Built-in Optimizations:** Image optimization, font optimization, code splitting\n- **API Routes:** Can add backend endpoints if needed (not used currently)\n- **Production Ready:** Optimized builds out of the box\n\n**Trade-offs:**\n- More complex than CRA for simple SPAs\n- Requires understanding of SSR concepts\n- Alternative: Vite + React (faster dev server, manual optimization)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTailwind CSS Over CSS Modules/Styled Components\n\n\n**Decision:** Use Tailwind CSS utility-first approach\n\n**Why:**\n- **Rapid Development:** Write styles inline without context switching\n- **Consistency:** Utility classes enforce design system automatically\n- **Bundle Size:** Purged CSS removes unused styles (smaller bundles)\n- **Dark Mode:** Built-in support via class strategy\n- **Maintainability:** No CSS file sprawl, styles co-located with components\n\n**Trade-offs:**\n- Longer class names in JSX\n- Learning curve for utility-first approach\n- Alternative: CSS Modules (more traditional, requires separate files)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nIn-Memory Storage Initially\n\n\n**Decision:** Start with in-memory storage, plan database migration\n\n**Why:**\n- **MVP Speed:** Faster to prototype without database setup\n- **Simplicity:** No migrations, connection pooling, or schema management\n- **Testing:** Easy to reset state for tests\n- **Focus:** Allows focusing on API design and UI first\n\n**Trade-offs:**\n- Data lost on restart (acceptable for MVP)\n- No persistence (will be added)\n- Alternative: Start with database (more complex setup, but persistent)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nRESTful Endpoints\n\n\n**Decision:** Use REST conventions for API design\n\n**Why:**\n- **Standard:** Familiar to most developers\n- **HTTP Semantics:** Leverages HTTP methods (GET, POST, DELETE) naturally\n- **Tooling:** Works with standard HTTP clients and tools\n- **Documentation:** Easy to document and understand\n\n**Alternative Considered:** GraphQL (more flexible queries, but more complex)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nVersioned API (`/v1/`)\n\n\n**Decision:** Version API endpoints from the start\n\n**Why:**\n- **Future-Proofing:** Allows breaking changes in v2 without breaking v1 clients\n- **Best Practice:** Industry standard for API evolution\n- **Client Compatibility:** Multiple client versions can coexist\n- **Clear Migration Path:** Obvious when to deprecate old versions"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nQuery Parameter for Currency Conversion\n\n\n**Decision:** Use query parameter (`?currency=CAD`) instead of separate endpoint\n\n**Why:**\n- **RESTful:** GET requests should be idempotent, query params are filters\n- **Flexibility:** Same endpoint serves multiple use cases\n- **Caching:** Query params allow HTTP caching per currency\n- **Simplicity:** One endpoint instead of `/transactions` and `/transactions/converted`\n\n**Alternative:** Separate endpoint `/transactions/converted?currency=CAD` (more explicit, but violates DRY)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nComponent-Based Structure\n\n\n**Decision:** Organize by feature/component, not by file type\n\n**Why:**\n- **Co-location:** Related files stay together (component, styles, tests)\n- **Discoverability:** Easy to find all code for a feature\n- **Maintainability:** Changes to a feature are localized\n- **Scalability:** Easy to add new features without restructuring\n\n**Structure:**\n```\ncomponents/\n  Sidebar/\n    Sidebar.tsx\n    Sidebar.test.tsx\n  StatCard/\n    StatCard.tsx\n```\n\n**Alternative:** Group by type (all components, all tests separate) - harder to navigate"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nClient-Side State Management\n\n\n**Decision:** Use React useState/useEffect instead of Redux/Zustand initially\n\n**Why:**\n- **Simplicity:** Built-in state management sufficient for MVP scope\n- **No Dependencies:** Reduces bundle size and complexity\n- **Learning Curve:** Easier for developers new to the project\n- **Migration Path:** Can add state management library when needed\n\n**When to Add Redux/Zustand:**\n- Shared state across many components\n- Complex state logic\n- Need for time-travel debugging\n- Large team needing predictable state updates"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDark Mode Implementation\n\n\n**Decision:** Class-based dark mode with localStorage persistence\n\n**Why:**\n- **Performance:** Single DOM manipulation affects all elements\n- **SSR Compatible:** Works with Next.js SSR without hydration issues\n- **User Control:** Respects explicit user choice over system preference\n- **Tailwind Integration:** Works seamlessly with Tailwind's dark mode\n\n**Alternative:** CSS media queries (only respects system, no user control)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nPydantic Models for Validation\n\n\n**Decision:** Use Pydantic for all data validation\n\n**Why:**\n- **Type Safety:** Catches errors at API boundary, not deep in code\n- **Auto Documentation:** FastAPI generates OpenAPI schema from models\n- **Serialization:** Automatic JSON serialization/deserialization\n- **Validation:** Built-in validators (email, URL, custom validators)\n\n**Why Not:** Manual validation (error-prone, verbose, no type hints)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTransaction Currency Storage\n\n\n**Decision:** Store original currency, convert on-demand\n\n**Why:**\n- **Data Integrity:** Original transaction data preserved\n- **Audit Trail:** Can always see original currency\n- **Accuracy:** Avoids rounding errors from multiple conversions\n- **Compliance:** Financial records should preserve original values\n\n**Alternative:** Store in single currency (simpler, but loses original data)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nMock Exchange Rates\n\n\n**Decision:** Use hardcoded exchange rates initially\n\n**Why:**\n- **Development Speed:** No external API setup needed\n- **Testing:** Predictable, reproducible rates\n- **Offline:** Works without internet\n- **Cost:** No API costs during development\n\n**Future:** Integrate with exchange rate API (exchangerate-api.io, Fixer.io)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCORS Configuration\n\n\n**Decision:** Allow localhost:3000 in development\n\n**Why:**\n- **Development Necessity:** Frontend must call backend from different port\n- **Security:** Restricted to specific origins (not `*`)\n- **Future:** Will restrict to production domain in production\n\n**Production Plan:** Replace with specific production domain"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nNo Authentication Initially\n\n\n**Decision:** MVP without authentication\n\n**Why:**\n- **MVP Scope:** Focus on core functionality first\n- **Local-First:** Self-hosted means network access control can provide security\n- **Simplicity:** Faster to develop without auth complexity\n\n**Future:** Add JWT-based authentication, rate limiting, API keys"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nIn-Memory Storage Security\n\n\n**Decision:** Accept in-memory storage security implications for MVP\n\n**Why:**\n- **Temporary:** Will migrate to database with proper security\n- **Local Only:** Self-hosted means data never leaves user's control\n- **MVP Trade-off:** Acceptable risk for prototype\n\n**Future:** Encrypted database, connection pooling, prepared statements"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nClient-Side Currency Conversion\n\n\n**Decision:** Convert currencies in frontend after fetching\n\n**Why:**\n- **Real-Time:** User can change display currency instantly\n- **Reduced Server Load:** Server doesn't recalculate on every currency change\n- **Offline Capable:** Works if backend temporarily unavailable\n- **Flexibility:** Each user can view in their preferred currency\n\n**Trade-off:** Multiple conversions if user changes currency frequently\n\n**Future Optimization:** Cache converted amounts, batch conversions"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nConditional Router Loading\n\n\n**Decision:** Use try/except to conditionally load routers\n\n**Why:**\n- **Flexibility:** App works even if some routers missing\n- **Feature Flags:** Can enable/disable features easily\n- **Development:** Can develop features in isolation\n\n**Alternative:** Always require all routers (simpler, but less flexible)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nRecharts for Charts\n\n\n**Decision:** Use Recharts instead of D3 directly\n\n**Why:**\n- **React Integration:** Declarative, React-friendly API\n- **Responsive:** Built-in responsive behavior\n- **Composability:** Components can be combined easily\n- **Maintenance:** Active maintenance, good documentation\n\n**Alternative:** D3.js (more powerful, but imperative, harder to integrate with React)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDatabase Migration Strategy\n\n\n**Plan:** Migrate from in-memory to PostgreSQL\n\n**Why:**\n- **Persistence:** Data survives server restarts\n- **Concurrency:** Handles multiple users properly\n- **Scalability:** Can scale beyond single server\n- **Features:** Enables complex queries, reporting, analytics\n\n**Migration Path:**\n1. Keep in-memory as fallback\n2. Add database layer behind same API\n3. Migrate data on startup\n4. Remove in-memory storage"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAuthentication Strategy\n\n\n**Plan:** JWT-based authentication\n\n**Why:**\n- **Stateless:** No server-side session storage needed\n- **Scalable:** Works across multiple servers\n- **Standard:** Industry-standard approach\n- **Flexible:** Can add refresh tokens, roles, permissions"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nReal Exchange Rate Integration\n\n\n**Plan:** Integrate with exchange rate API\n\n**Why:**\n- **Accuracy:** Real-time or daily updated rates\n- **Multiple Sources:** Can fallback if one API fails\n- **Historical:** Can track rate changes over time\n\n**Considerations:**\n- Rate limits and costs\n- Fallback to cached rates if API unavailable\n- Update frequency (daily vs real-time)\n\n---\n\n**Last Updated:** 2025-11-04  \n**Version:** 0.2.2"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nChangelog\n\n\nAll notable changes to this project will be documented in this file."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nChanged\n\n- Updated MASTER_PROMPT.md with project documentation\n- Updated backend configuration (config.py)\n- Updated Kubernetes deployment manifests (k8s/deploy.yaml)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAdded\n\n- Claude AI settings configuration (.claude/settings.local.json)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBREAKING CHANGE - Project Rebranded\n\n\n**LedgerLight is now Canopy** - Complete rebrand and vision expansion."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nWhat's New in Canopy\n\n\n**Tagline**: \"Your financial life. Under one canopy.\"\n\n**Vision**: Self-hosted personal finance, investment, and budgeting dashboard inspired by Monarch Money, Ghostfolio, and Firefly III. Fully local on Raspberry Pi k3s clusters."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nChanged\n\n\n- **Project Name**: LedgerLight â†’ Canopy\n- **Branding**: New logo featuring tree canopy forming the letter \"C\"\n- **Description**: Expanded vision to emphasize budgeting, investment tracking, and Monarch-level UX\n- **Documentation**: Updated README, ARCHITECTURE with Canopy vision\n- **Backend**: Renamed API title to \"Canopy API\"\n- **Frontend**: All page titles, meta tags, and OG images updated\n- **Database**: Connection strings updated from ledgerlight to canopy\n- **Package Names**:\n  - `ledgerlight-backend` â†’ `canopy-backend`\n  - `ledgerlight-frontend` â†’ `canopy-frontend`"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nMigration Guide\n\n\nSee [MIGRATION_GUIDE.md](./MIGRATION_GUIDE.md) for complete migration instructions including:\n\n- GitHub repository renaming\n- Local environment updates\n- Brand asset replacement\n- Pi cluster deployment updates"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nPlanned Features (Roadmap)\n\n\n**MVP+** (In Development):\n\n- Budget management (Fixed/Flexible/Non-monthly envelopes)\n- Investment portfolio tracking (stocks, ETFs, crypto)\n- Goals tracking (retirement, savings)\n- Recurring transaction detection\n- Net worth snapshots and charts\n- Cash flow analysis (enhanced)\n- Celery background tasks for price ingestion\n\n**Deployment**:\n\n- K8s manifests for Pi cluster (eldertree control plane)\n- GitHub Actions with self-hosted runner\n- Minimal YAML, yearly maintenance philosophy"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nArchitecture Highlights\n\n\n**Backend**: FastAPI + Celery + Redis + PostgreSQL  \n**Frontend**: Next.js + Tailwind + shadcn  \n**Infra**: k3s on Raspberry Pi (eldertree + fleet-worker nodes)  \n**Deployment**: kubectl apply (no Helm, no ArgoCD)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDesign Philosophy\n\n\n- **Self-hosted**: Full privacy, no cloud dependencies\n- **Offline-friendly**: Works without internet\n- **Multi-currency**: CAD, USD, BRL, EUR, GBP\n- **Monarch-level UX**: Polished, calm, premium design\n- **Pi-optimized**: Lean, efficient, minimal resource usage\n- **Modular**: Easy to fork and extend"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCredits\n\n\nBuilt by Rafael Oliveira (@raolivei) for the Pi fleet homelab.\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFixed\n\n\n- Fixed currency conversion endpoint returning 500 error\n  - **Why:** Pydantic v2 deprecated `dict()` method in favor of `model_dump()`. The error occurred because code was using deprecated API.\n  - **Solution:** Updated to use `model_dump()` with fallback to `dict()` for backward compatibility.\n- Updated to use `model_dump()` for Pydantic v2 compatibility in transaction currency conversion\n- Added fallback to `dict()` for Pydantic v1 support\n- Currency conversion query parameter now works correctly (`/v1/transactions/?currency=CAD`)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAdded\n\n\n- Comprehensive architecture documentation (ARCHITECTURE.md)\n  - **Why:** Document design decisions and rationale to help future developers understand the \"why\" behind technical choices\n  - **Contents:** Architecture overview, technology choices, API design, frontend architecture, data management, security considerations, performance optimizations\n- Enhanced documentation with \"why\" explanations\n  - **Why:** Understanding rationale helps maintainability and prevents regression of design decisions\n  - **Updated:** MASTER_PROMPT.md, README.md, CHANGELOG.md with design rationale sections"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFixed\n\n\n- Integrated transaction and currency routers into server.py\n  - **Why:** Feature branches created routers separately. Integration ensures all endpoints are accessible.\n  - **Solution:** Conditional import pattern allows routers to work even if some are missing.\n- Added CORS middleware for frontend-backend communication\n  - **Why:** Browser Same-Origin Policy blocks cross-origin requests. Frontend (port 3000) needs to call backend (port 8000).\n  - **Solution:** CORS middleware explicitly allows frontend origin.\n- Added missing transaction model to dev branch\n  - **Why:** Transaction API requires Transaction model but it was only in feature branch.\n  - **Solution:** Added model to dev branch to ensure complete functionality.\n- Verified all API endpoints working correctly\n- Stable application state with full functionality"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAdded\n\n\n- **Backend API Setup** (`feature/backend-api-setup`):\n\n  - FastAPI application with CORS middleware configuration\n  - Transaction models (Transaction, TransactionCreate, TransactionType enum)\n  - Transaction CRUD API endpoints (GET all, GET by ID, POST, DELETE)\n  - Health check endpoint at `/v1/health`\n  - Python requirements.txt with FastAPI, Uvicorn, SQLAlchemy, Pydantic dependencies\n  - In-memory transaction storage (ready for database migration)\n\n- **UI Redesign** (`feature/ui-redesign-monarch-style`):\n\n  - Modern Monarch Money-inspired UI design\n  - Sidebar navigation component with active state highlighting\n  - Reusable StatCard component for dashboard metrics\n  - Redesigned dashboard with:\n    - Cash flow area chart (income vs expenses over time)\n    - Spending by category pie chart\n    - Recent transactions list\n    - Summary stat cards (Total Income, Expenses, Net Cash Flow, Spending)\n  - Redesigned transactions page with improved layout and card-based summaries\n  - Custom Tailwind CSS components (card, card-hover, btn-primary, btn-secondary, input-modern)\n  - Tailwind configuration with primary color palette and Inter font family\n  - Responsive grid layouts and modern card designs\n\n- **Currency Support** (`feature/currency-support`):\n\n  - Multi-currency support (USD, CAD, BRL, EUR, GBP)\n  - Currency API endpoints (`/v1/currency/supported`, `/v1/currency/rates`, `/v1/currency/convert`)\n  - Currency conversion logic with mock exchange rates\n  - CurrencySelector component for frontend\n  - Currency formatting utilities (formatCurrency, convertCurrency, formatCurrencyCompact)\n  - Transactions API support for optional currency conversion\n  - Display currency toggle in UI\n  - Show both original and converted amounts when currencies differ\n\n- **Dark Mode** (`feature/dark-mode`):\n\n  - DarkModeToggle component with localStorage persistence\n  - System preference detection for automatic dark mode\n  - Dark mode styles throughout all UI components\n  - Integrati"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFixed\n\n\n- **SSR and State Fixes** (`bugfix/ssr-and-state-fixes`):\n  - Fixed missing `showConverted` and `convertedAmounts` state variables in transactions page\n  - Fixed SSR error with `document` access in chart tooltips\n  - Added `isDarkMode` state tracking for client-side dark mode detection\n  - Prevented hydration mismatches in dark mode toggle component"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAdded\n\n\n- README with detailed objectives, architecture, and onboarding workflows.\n- FastAPI backend scaffold featuring:\n  - Application factory, configuration via `pydantic-settings`, and cached settings loader.\n  - Versioned API routing (`/v1/health`, `/v1/summary`) plus smoke tests.\n  - Celery ingest task stub and domain models for portfolio data.\n  - Backend-specific Dockerfile, requirements, and `.env` example.\n- Next.js 14 + Tailwind frontend setup:\n  - KPI dashboard page, reusable layout components, Tailwind theme extension.\n  - Static export workflow and Dockerfile for NGINX runtime.\n- Infra and delivery tooling:\n  - Kubernetes namespace, deployments (API, worker, frontend), services, ingress, and secrets example.\n  - Aggregated `ledgerlight.yaml` for single-command deployment.\n  - GitHub Actions workflow to build/push container images to GHCR and deploy via `kubectl`."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCanopy - Master Prompt for Recreation\n\n\nThis document provides a comprehensive guide to recreate the Canopy application from scratch. Use this as a master prompt for AI assistants or developers."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nProject Overview\n\n\n**Canopy** is a self-hosted personal finance & investment dashboard that merges portfolio analytics, budgeting, and transaction tracking into one unified platform. It is designed to run on a Raspberry Pi cluster with a lean footprint, storing all data locally without cloud dependencies."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCore Objectives\n\n- Combine portfolio, budgeting, and net-worth views into a single dashboard\n- Store all data locally â€” no cloud dependencies\n- Support multi-currency (CAD, USD, BRL, EUR, GBP) assets\n- Allow easy CSV/OFX imports for banks and brokerages\n- Run lean â€” optimized for Raspberry Pi hardware\n- Be modular so other developers can fork and extend"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDesign Philosophy & Rationale\n\n\n**Why Self-Hosted?**\n- **Privacy First:** Financial data is sensitive. Self-hosting ensures complete control over where data is stored and who has access.\n- **No Vendor Lock-in:** Avoid dependency on third-party services that may change pricing, features, or discontinue service.\n- **Cost Efficiency:** Run on existing hardware (Raspberry Pi) without subscription fees.\n- **Data Ownership:** Users own their data completely, enabling export and migration at any time.\n\n**Why Raspberry Pi Optimized?**\n- **Accessibility:** Raspberry Pi is affordable and widely available, making self-hosting accessible to more users.\n- **Low Power Consumption:** Can run 24/7 without significant electricity costs.\n- **Educational Value:** Encourages learning about self-hosting, Linux, and system administration.\n- **Edge Computing:** Data processing happens locally, reducing latency and bandwidth usage.\n\n**Why Multi-Currency Support?**\n- **Global Users:** Many users have assets and transactions in multiple currencies.\n- **Accurate Reporting:** Convert all transactions to a single display currency for meaningful analysis.\n- **Investment Tracking:** Portfolio assets are often denominated in different currencies.\n- **Future-Proofing:** Supports international expansion and diverse user bases.\n\n**Why Modular Architecture?**\n- **Extensibility:** Easy to add new features without breaking existing functionality.\n- **Maintainability:** Clear separation of concerns makes code easier to understand and modify.\n- **Community Contribution:** Modular design allows community members to contribute specific features.\n- **Testing:** Isolated modules are easier to test independently."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nMVP Features Implemented\n\n- ðŸ’° Transaction tracking with categories\n- ðŸ”„ Multi-currency FX conversions with display currency toggle\n- ðŸ“Š Dashboard with charts and statistics\n- ðŸŒ™ Dark mode support\n- ðŸŽ¨ Modern Monarch Money-inspired UI\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBackend\n\n- **Framework**: FastAPI 0.104.1\n  - **Why FastAPI?** Async/await support for high performance, automatic OpenAPI/Swagger docs, type hints for better code quality, and excellent Python 3.10+ support. Perfect for building modern APIs quickly.\n- **ASGI Server**: Uvicorn[standard] 0.24.0\n  - **Why Uvicorn?** Fast ASGI server built on uvloop for better performance than traditional WSGI servers. The `[standard]` extras include better performance and websocket support.\n- **Database**: PostgreSQL (via SQLAlchemy 2.0.23, psycopg[binary] 3.1.18)\n  - **Why PostgreSQL?** Robust, ACID-compliant, excellent JSON support, and strong performance. Industry standard for financial applications.\n  - **Why SQLAlchemy?** Powerful ORM with async support, database-agnostic abstractions, and excellent migration tools.\n  - **Why psycopg[binary]?** Pre-compiled binaries avoid compilation issues on various platforms, faster setup.\n- **Migrations**: Alembic 1.12.1\n  - **Why Alembic?** SQLAlchemy's official migration tool, integrates seamlessly, supports version control for schema changes.\n- **Validation**: Pydantic 2.5.0, pydantic-settings 2.1.0\n  - **Why Pydantic v2?** Performance improvements, better type validation, and integration with FastAPI. Used for both request/response validation and settings management.\n- **Auth**: python-jose[cryptography] 3.3.0, passlib[bcrypt] 1.7.4\n  - **Why JOSE?** Industry-standard JWT implementation for secure token-based authentication.\n  - **Why bcrypt?** Strong password hashing algorithm resistant to brute-force attacks.\n- **Task Queue**: Celery 5.3.4\n  - **Why Celery?** Handles background tasks (CSV imports, report generation) without blocking the API. Essential for long-running operations.\n- **Cache**: Redis 5.0.1\n  - **Why Redis?** Fast in-memory cache for frequently accessed data (exchange rates, user sessions). Also used as Celery broker.\n- **HTTP Client**: httpx 0.25.2\n  - **Why httpx?** Modern async HTTP client, better than requests for asyn"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFrontend\n\n- **Framework**: Next.js 14.0.4\n  - **Why Next.js?** Server-side rendering for better SEO and performance, file-based routing for simplicity, built-in optimizations (image, font, script), and excellent developer experience. Perfect for dashboard applications.\n- **UI Library**: React 18.2.0\n  - **Why React?** Most popular UI library, excellent ecosystem, component reusability, and strong TypeScript support.\n- **Styling**: Tailwind CSS 3.3.6\n  - **Why Tailwind?** Utility-first CSS enables rapid UI development without context switching, consistent design system, smaller bundle sizes through purging, and excellent dark mode support via class strategy.\n- **Charts**: Recharts 2.10.3\n  - **Why Recharts?** React-native charting library, declarative API, responsive by default, and composable components. Better than D3 for React applications.\n- **Icons**: Lucide React 0.294.0\n  - **Why Lucide?** Clean, consistent icon set, tree-shakeable (only import used icons), TypeScript support, and good variety for financial apps.\n- **Date Utils**: date-fns 2.30.0\n  - **Why date-fns?** Immutable, functional API, tree-shakeable, better than Moment.js (smaller bundle), and excellent TypeScript support.\n- **Language**: TypeScript 5.3.3\n  - **Why TypeScript?** Type safety catches errors at compile time, better IDE support, self-documenting code, and reduces runtime errors. Essential for maintainable frontend code."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nInfrastructure\n\n- **Containerization**: Docker & Docker Compose\n- **Orchestration**: Kubernetes (k8s manifests included, **use Helm charts where applicable**)\n- **Database**: PostgreSQL\n- **Cache**: Redis\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nProject Structure\n\n\n```\ncanopy/\nâ”œâ”€â”€ backend/\nâ”‚   â”œâ”€â”€ api/\nâ”‚   â”‚   â”œâ”€â”€ __init__.py\nâ”‚   â”‚   â”œâ”€â”€ transactions.py      # Transaction CRUD endpoints\nâ”‚   â”‚   â””â”€â”€ currency.py          # Currency conversion endpoints\nâ”‚   â”œâ”€â”€ app/\nâ”‚   â”‚   â”œâ”€â”€ __init__.py\nâ”‚   â”‚   â””â”€â”€ server.py            # FastAPI app entry point\nâ”‚   â”œâ”€â”€ models/\nâ”‚   â”‚   â”œâ”€â”€ __init__.py\nâ”‚   â”‚   â”œâ”€â”€ transaction.py        # Transaction Pydantic models\nâ”‚   â”‚   â””â”€â”€ currency.py          # Currency models & conversion logic\nâ”‚   â”œâ”€â”€ ingest/                  # CSV/OFX import handlers (future)\nâ”‚   â””â”€â”€ requirements.txt\nâ”œâ”€â”€ frontend/\nâ”‚   â”œâ”€â”€ components/\nâ”‚   â”‚   â”œâ”€â”€ Sidebar.tsx          # Navigation sidebar\nâ”‚   â”‚   â”œâ”€â”€ StatCard.tsx        # Reusable stat card component\nâ”‚   â”‚   â”œâ”€â”€ CurrencySelector.tsx # Currency dropdown selector\nâ”‚   â”‚   â””â”€â”€ DarkModeToggle.tsx  # Dark mode toggle button\nâ”‚   â”œâ”€â”€ pages/\nâ”‚   â”‚   â”œâ”€â”€ _app.tsx            # Next.js app wrapper\nâ”‚   â”‚   â”œâ”€â”€ index.tsx           # Dashboard page\nâ”‚   â”‚   â”œâ”€â”€ transactions.tsx    # Transactions management page\nâ”‚   â”‚   â”œâ”€â”€ portfolio.tsx       # Portfolio page (placeholder)\nâ”‚   â”‚   â”œâ”€â”€ accounts.tsx       # Accounts page (placeholder)\nâ”‚   â”‚   â””â”€â”€ settings.tsx       # Settings page\nâ”‚   â”œâ”€â”€ styles/\nâ”‚   â”‚   â””â”€â”€ globals.css         # Global styles & Tailwind components\nâ”‚   â”œâ”€â”€ utils/\nâ”‚   â”‚   â””â”€â”€ currency.ts         # Currency formatting & conversion utilities\nâ”‚   â”œâ”€â”€ package.json\nâ”‚   â”œâ”€â”€ tailwind.config.js\nâ”‚   â”œâ”€â”€ tsconfig.json\nâ”‚   â””â”€â”€ next.config.js\nâ”œâ”€â”€ k8s/\nâ”‚   â”œâ”€â”€ deploy.yaml\nâ”‚   â”œâ”€â”€ service.yaml\nâ”‚   â””â”€â”€ ingress.yaml\nâ””â”€â”€ README.md\n```\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n1. FastAPI Server Setup (`backend/app/server.py`)\n\n\n```python\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom dotenv import load_dotenv\nimport os\nimport sys"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAdd backend directory to path for imports\n\nsys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))\n\nfrom backend.api import transactions, currency\n\nload_dotenv()\n\napp = FastAPI(\n    title=\"Canopy API\",\n    description=\"Privacy-first personal finance and investment cockpit\",\n    version=\"0.1.0\",\n)\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"http://localhost:3000\", \"http://127.0.0.1:3000\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nInclude routers\n\napp.include_router(transactions.router)\napp.include_router(currency.router)\n\n@app.get(\"/v1/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"environment\": os.getenv(\"ENVIRONMENT\", \"development\"),\n    }\n\n@app.get(\"/\")\nasync def root():\n    return {\"message\": \"Canopy API\", \"version\": \"0.1.0\"}\n```\n\n**Key Points:**\n- CORS enabled for frontend (localhost:3000)\n- Path manipulation to allow imports from backend directory\n- Health check endpoint for monitoring\n- Router inclusion pattern for modular API\n\n**Design Rationale:**\n\n**Why CORS Middleware?**\n- **Browser Security:** Browsers enforce Same-Origin Policy. Without CORS, the frontend (localhost:3000) cannot call the backend API (localhost:8000) due to different ports.\n- **Development vs Production:** Currently allows localhost origins. In production, this should be restricted to specific domains for security.\n- **Credentials:** `allow_credentials=True` enables cookies/auth headers to be sent cross-origin when authentication is added.\n\n**Why Path Manipulation?**\n- **Import Resolution:** Python needs to find the `backend` module. Adding parent directory to `sys.path` allows absolute imports (`from backend.api import ...`) to work regardless of where uvicorn is run from.\n- **Alternative Approaches:** Could use relative imports or PYTHONPATH environment variable, but explicit path manipulation is more predictable.\n\n**Why Health Check Endpoint?**\n- **Monitoring:** Kubernetes, load balancers, and monitoring tools can check `/v1/health` to determine if the service is running.\n- **Status Verification:** Returns environment info for debugging and deployment verification.\n- **Best Practice:** Standard pattern for microservices and containerized applications.\n\n**Why Router Pattern?**\n- **Separation of Concerns:** Each router handles a specific domain (transactions, currency) making code easier to maintain.\n- **Scalability:** Easy to add new routers without modifying main server f"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n2. Transaction Models (`backend/models/transaction.py`)\n\n\n```python\nfrom pydantic import BaseModel\nfrom datetime import datetime\nfrom typing import Optional\nfrom enum import Enum\n\nclass TransactionType(str, Enum):\n    INCOME = \"income\"\n    EXPENSE = \"expense\"\n    TRANSFER = \"transfer\"\n\nclass Transaction(BaseModel):\n    id: Optional[int] = None\n    description: str\n    amount: float\n    currency: str = \"USD\"\n    type: TransactionType\n    category: Optional[str] = None\n    date: datetime\n    account: Optional[str] = None\n\nclass TransactionCreate(BaseModel):\n    description: str\n    amount: float\n    currency: str = \"USD\"\n    type: TransactionType\n    category: Optional[str] = None\n    date: Optional[datetime] = None\n    account: Optional[str] = None\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n3. Transaction API (`backend/api/transactions.py`)\n\n\n**Endpoints:**\n- `GET /v1/transactions/` - List all transactions (optional `currency` query param for conversion)\n- `GET /v1/transactions/{transaction_id}` - Get specific transaction\n- `POST /v1/transactions/` - Create new transaction\n- `DELETE /v1/transactions/{transaction_id}` - Delete transaction\n\n**Current Implementation:**\n- Uses in-memory storage (List[Transaction])\n- Global `next_id` counter for ID generation\n- Optional currency conversion on GET all\n\n**Why In-Memory Storage Initially?**\n- **Rapid Prototyping:** MVP doesn't require persistence. Allows fast iteration without database setup.\n- **Simplicity:** No database migrations, connection pooling, or schema management needed initially.\n- **Testing:** Easy to reset state by restarting the server.\n- **Migration Path:** Code structure supports easy migration to database later (models are already Pydantic models compatible with SQLAlchemy).\n\n**Why Global Counter for IDs?**\n- **Simplicity:** No need for database sequences or UUID generation in MVP.\n- **Migration-Friendly:** When moving to database, can use auto-incrementing primary keys or UUIDs.\n- **Temporary Solution:** Will be replaced with proper database primary keys.\n\n**Why Optional Currency Conversion?**\n- **Performance:** Don't convert if not needed (user viewing in original currency).\n- **Flexibility:** Client can request specific currency when needed.\n- **API Design:** Query parameter pattern allows same endpoint to serve multiple use cases.\n\n**Key Logic:**\n```python"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCurrency conversion example\n\nif currency:\n    converted_transactions = []\n    for tx in transactions_db:\n        converted_amount = convert_currency(tx.amount, tx.currency, currency.upper())\n        # Use model_dump() for Pydantic v2, fallback to dict() for v1\n        tx_dict = tx.model_dump() if hasattr(tx, 'model_dump') else tx.dict()\n        converted_tx = Transaction(**tx_dict, amount=converted_amount, currency=currency.upper())\n        converted_transactions.append(converted_tx)\n    return converted_transactions\n```\n\n**Why model_dump() with Fallback?**\n- **Pydantic v2 Compatibility:** `dict()` was deprecated in Pydantic v2, replaced with `model_dump()`.\n- **Backward Compatibility:** Fallback ensures code works with both Pydantic v1 and v2.\n- **Future-Proofing:** Code will work as Pydantic evolves.\n- **Best Practice:** Check for method existence rather than version checking."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n4. Currency Models (`backend/models/currency.py`)\n\n\n**Features:**\n- Mock exchange rates for USD, CAD, BRL, EUR, GBP\n- Currency conversion function\n- Supported currencies list\n\n**Exchange Rates Structure:**\n```python\nDEFAULT_EXCHANGE_RATES = {\n    \"USD\": {\"USD\": 1.0, \"CAD\": 1.35, \"BRL\": 5.10, \"EUR\": 0.92, \"GBP\": 0.79},\n    \"CAD\": {\"USD\": 0.74, \"CAD\": 1.0, \"BRL\": 3.78, \"EUR\": 0.68, \"GBP\": 0.59},\n    # ... etc\n}\n```\n\n**Conversion Function:**\n```python\ndef convert_currency(amount: float, from_currency: str, to_currency: str) -> float:\n    if from_currency == to_currency:\n        return amount\n    rates = DEFAULT_EXCHANGE_RATES.get(from_currency, {})\n    rate = rates.get(to_currency, 1.0)\n    return amount * rate\n```\n\n**Why Mock Exchange Rates Initially?**\n- **Development Speed:** No external API dependencies during development.\n- **Testing:** Predictable rates make testing easier and reproducible.\n- **Offline Development:** Works without internet connection.\n- **Cost:** Avoids API rate limits and costs during development.\n- **Migration Path:** Structure supports easy swap to real API (exchangerate-api.io, Fixer.io, etc.) later.\n\n**Why USD as Base Currency?**\n- **Common Standard:** USD is widely used as base currency in financial markets.\n- **User Base:** Many users think in USD terms.\n- **Flexibility:** Can easily add more base currencies or use EUR/CAD as base if needed."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n5. Currency API (`backend/api/currency.py`)\n\n\n**Endpoints:**\n- `GET /v1/currency/supported` - Get list of supported currencies\n- `GET /v1/currency/rates?base_currency=USD` - Get exchange rates\n- `GET /v1/currency/convert?amount=100&from_currency=USD&to_currency=CAD` - Convert amount\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n1. Next.js Configuration\n\n\n**`frontend/next.config.js`:**\n```javascript\n/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  reactStrictMode: true,\n}\n\nmodule.exports = nextConfig\n```\n\n**`frontend/tsconfig.json`:**\nStandard Next.js TypeScript configuration with path aliases:\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"strict\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"noEmit\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"bundler\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\",\n    \"incremental\": true,\n    \"plugins\": [\n      {\n        \"name\": \"next\"\n      }\n    ],\n    \"paths\": {\n      \"@/*\": [\"./*\"]\n    }\n  },\n  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\", \".next/types/**/*.ts\"],\n  \"exclude\": [\"node_modules\"]\n}\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n2. Tailwind Configuration (`frontend/tailwind.config.js`)\n\n\n**Key Features:**\n- Dark mode: `class` strategy\n- Custom primary color palette (blue scale)\n- Inter font family\n- Content paths for JIT compilation\n\n```javascript\nmodule.exports = {\n  darkMode: 'class',\n  content: [\n    './pages/**/*.{js,ts,jsx,tsx,mdx}',\n    './components/**/*.{js,ts,jsx,tsx,mdx}',\n  ],\n  theme: {\n    extend: {\n      colors: {\n        primary: {\n          50: '#f0f9ff',\n          100: '#e0f2fe',\n          // ... through 900\n        },\n      },\n      fontFamily: {\n        sans: ['Inter', 'system-ui', 'sans-serif'],\n      },\n    },\n  },\n  plugins: [],\n}\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n3. Global Styles (`frontend/styles/globals.css`)\n\n\n**Custom Components:**\n- `.card` - Card container with dark mode support\n- `.card-hover` - Hover effects for cards\n- `.btn-primary` - Primary button with gradient\n- `.btn-secondary` - Secondary button\n- `.input-modern` - Modern input styling\n\n```css\n@layer components {\n  .card {\n    @apply bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700;\n  }\n  \n  .btn-primary {\n    @apply bg-gradient-to-r from-primary-600 to-primary-700 text-white font-medium px-6 py-3 rounded-xl shadow-md hover:shadow-lg transition-all duration-200;\n  }\n  \n  .input-modern {\n    @apply w-full px-4 py-3 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-800;\n  }\n}\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nSidebar (`frontend/components/Sidebar.tsx`)\n\n\n**Features:**\n- Fixed left sidebar (64 width, `w-64`)\n- Navigation links with active state highlighting\n- Dark mode toggle integration\n- Gradient branding header\n- Privacy footer message\n\n**Navigation Items:**\n- Dashboard (`/`)\n- Transactions (`/transactions`)\n- Portfolio (`/portfolio`)\n- Accounts (`/accounts`)\n- Settings (`/settings`)\n\n**Active State Logic:**\n```typescript\nconst isActive = router.pathname === item.href\n// Apply active styles: bg-primary-600 text-white shadow-lg\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDarkModeToggle (`frontend/components/DarkModeToggle.tsx`)\n\n\n**Features:**\n- localStorage persistence\n- System preference detection\n- Prevents hydration mismatch\n- Toggles `dark` class on `document.documentElement`\n\n**Why localStorage Persistence?**\n- **User Experience:** Remembers user preference across sessions.\n- **Consistency:** Same theme on every visit unless user changes it.\n- **Respects Choice:** User's explicit selection takes precedence over system preference.\n\n**Why System Preference Detection?**\n- **First Visit:** New users get sensible default based on their OS setting.\n- **Accessibility:** Users with light sensitivity get appropriate default.\n- **Modern UX:** Expected behavior in modern applications.\n\n**Why Prevent Hydration Mismatch?**\n- **SSR Issue:** Server doesn't know user's preference, would render different HTML than client.\n- **React Error:** Mismatches cause React warnings and potential UI glitches.\n- **Solution:** Render placeholder until client-side JavaScript loads, then apply preference.\n\n**Why Document.documentElement?**\n- **Global Scope:** Dark mode affects entire page, not just React components.\n- **Tailwind Integration:** Tailwind's `dark:` variants check for `dark` class on `<html>` element.\n- **Performance:** Single DOM manipulation affects all elements, more efficient than per-component checks.\n\n**Key Implementation:**\n```typescript\nuseEffect(() => {\n  setMounted(true)\n  const stored = localStorage.getItem('darkMode')\n  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n  const isDark = stored !== null ? stored === 'true' : prefersDark\n  \n  setDarkMode(isDark)\n  if (isDark) {\n    document.documentElement.classList.add('dark')\n  }\n}, [])\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nStatCard (`frontend/components/StatCard.tsx`)\n\n\n**Props:**\n- `title`: Stat label\n- `value`: Stat value (formatted string)\n- `change`: Optional change indicator\n- `changeType`: 'positive' | 'negative' | 'neutral'\n- `icon`: Lucide icon component\n- `gradient`: Tailwind gradient class\n\n**Visual Features:**\n- Gradient background decoration\n- Icon badge\n- Change indicator badge with color coding"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCurrencySelector (`frontend/components/CurrencySelector.tsx`)\n\n\n**Features:**\n- Dropdown with supported currencies\n- Currency code and symbol display\n- Dark mode styling\n- Callback on change\n\n**Supported Currencies:**\n- USD ($), CAD (C$), BRL (R$), EUR (â‚¬), GBP (Â£)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n5. Utility Functions (`frontend/utils/currency.ts`)\n\n\n**Functions:**\n- `formatCurrency(amount, currencyCode)` - Format with Intl.NumberFormat\n- `formatCurrencyCompact(amount, currencyCode)` - Compact notation\n- `getCurrencySymbol(currencyCode)` - Get currency symbol\n- `convertCurrency(amount, fromCurrency, toCurrency)` - API call for conversion\n\n**Implementation:**\n```typescript\nexport async function convertCurrency(\n  amount: number,\n  fromCurrency: string,\n  toCurrency: string\n): Promise<number> {\n  if (fromCurrency === toCurrency) return amount\n  \n  const response = await fetch(\n    `http://localhost:8000/v1/currency/convert?amount=${amount}&from_currency=${fromCurrency}&to_currency=${toCurrency}`\n  )\n  const data = await response.json()\n  return data.converted_amount\n}\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDashboard (`frontend/pages/index.tsx`)\n\n\n**Features:**\n- Stat cards (Total Income, Total Expenses, Net Cash Flow, Spending)\n- Cash flow area chart (income vs expenses over time)\n- Spending by category pie chart\n- Recent transactions list\n- Currency selector and conversion toggle\n- Dark mode support\n\n**State Management:**\n- `transactions`: Transaction list\n- `displayCurrency`: Selected display currency\n- `showConverted`: Toggle to show/hide converted amounts\n- `convertedAmounts`: Map of transaction ID to converted amount\n- `isDarkMode`: Dark mode state (for chart tooltips)\n\n**Key Logic:**\n```typescript\n// Convert all amounts when currency changes\nuseEffect(() => {\n  if (transactions.length > 0 && showConverted) {\n    convertAllAmounts()\n  }\n}, [transactions, displayCurrency, showConverted])\n\n// Display logic: show original + converted if different currency\nconst converted = getConvertedAmount(tx)\nconst displayAmount = converted ?? tx.amount\n```\n\n**Charts:**\n- AreaChart: Income (green) vs Expenses (red) over time\n- PieChart: Spending breakdown by category with color coding"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTransactions Page (`frontend/pages/transactions.tsx`)\n\n\n**Features:**\n- Transaction list with filtering\n- Add transaction form (collapsible)\n- Delete transaction functionality\n- Currency conversion display\n- Transaction type icons (TrendingUp, TrendingDown, ArrowLeftRight)\n- Summary cards (Total Income, Total Expenses, Net)\n\n**Form Fields:**\n- Description (text)\n- Amount (number)\n- Currency (dropdown)\n- Type (income/expense/transfer)\n- Category (text, optional)\n- Account (text, optional)\n- Date (date picker)\n\n**Transaction Display:**\n- Shows original amount in original currency\n- Shows converted amount in display currency (if different)\n- Format: \"$100.00 (from USD: $135.00 CAD)\" when converted"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nPortfolio Page (`frontend/pages/portfolio.tsx`)\n\n\n**Status:** Placeholder page\n\n**Features:**\n- Stat cards for portfolio metrics\n- Coming soon message\n- Dark mode support"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAccounts Page (`frontend/pages/accounts.tsx`)\n\n\n**Status:** Placeholder page\n\n**Features:**\n- Account cards (Checking, Credit Card, Savings)\n- Add Account button (disabled)\n- Coming soon message\n- Dark mode support"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nSettings Page (`frontend/pages/settings.tsx`)\n\n\n**Features:**\n- Currency selector\n- Dark mode toggle\n- Profile settings (placeholder, disabled)\n- Notification settings (placeholder, disabled)\n- Privacy & Security settings (placeholder)\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDesign Inspiration\n\nMonarch Money-style modern, clean interface"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nColor Palette\n\n\n**Primary Colors:**\n- Primary 50-900: Blue scale (#f0f9ff to #0c4a9e)\n- Used for buttons, accents, active states\n\n**Semantic Colors:**\n- Green: Income, positive changes (#10b981)\n- Red: Expenses, negative changes (#ef4444)\n- Gray: Neutral elements, backgrounds\n\n**Dark Mode:**\n- Background: gray-950\n- Cards: gray-800\n- Text: gray-100/gray-300\n- Borders: gray-700"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTypography\n\n- Font: Inter (Google Fonts)\n- Weights: 300, 400, 500, 600, 700, 800\n- Headings: Bold, larger sizes\n- Body: Regular weight"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nSpacing & Layout\n\n- Sidebar: Fixed, 64 width units (`w-64` = 256px)\n- Main content: `ml-64` to account for sidebar\n- Card padding: `p-6` (24px)\n- Border radius: `rounded-xl` (12px) or `rounded-2xl` (16px)\n- Gap between elements: `gap-4`, `gap-6`"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nComponents Style Guide\n\n\n**Cards:**\n- White background (dark: gray-800)\n- Rounded corners (rounded-2xl)\n- Subtle shadow (shadow-sm)\n- Border (gray-100/gray-700)\n\n**Buttons:**\n- Primary: Gradient background, white text, rounded-xl\n- Secondary: White/gray background, border, rounded-xl\n- Hover effects: Shadow increase, slight scale\n\n**Inputs:**\n- Rounded-xl\n- Border focus ring (primary-500)\n- Dark mode compatible\n\n**Icons:**\n- Lucide React icons\n- Size: 20px standard, 16px small, 24px large\n- Color matches text color\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nPrerequisites\n\n- Python 3.10+ (with pyenv recommended)\n- Node.js 18+ and npm\n- Docker and Docker Compose\n- PostgreSQL (via Docker)\n- Redis (via Docker)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBackend Setup\n\n\n1. **Create Python virtual environment:**\n```bash\ncd backend\npython3 -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nOR with pyenv:\n\npyenv local canopy\npyenv virtualenv canopy\npyenv activate canopy\n```\n\n2. **Install dependencies:**\n```bash\npip install -r requirements.txt\n```\n\n3. **Create `.env` file:**\n```env\nDATABASE_URL=postgresql://user:password@localhost:5432/canopy\nREDIS_URL=redis://localhost:6379/0\nSECRET_KEY=your-secret-key-here\nDEBUG=True\nENVIRONMENT=development\nALLOWED_HOSTS=localhost,127.0.0.1\nAPI_V1_PREFIX=/v1\n```\n\n4. **Start Docker services:**\n```bash\ndocker compose up -d postgres redis\n```\n\n5. **Run migrations (when database is set up):**\n```bash\nalembic upgrade head\n```\n\n6. **Start backend server:**\n```bash\ncd backend\nPYTHONPATH=/path/to/canopy/backend python3 -m uvicorn app.server:app --reload --host 0.0.0.0 --port 8000\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFrontend Setup\n\n\n1. **Install dependencies:**\n```bash\ncd frontend\nnpm install\n```\n\n2. **Start development server:**\n```bash\nnpm run dev\n```\n\n3. **Access application:**\n- Frontend: http://localhost:3000\n- Backend API: http://localhost:8000\n- API Docs: http://localhost:8000/docs"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nQuick Start Script\n\n\nCreate `run-local.sh`:\n```bash\n#!/bin/bash\nset -e"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBackend setup\n\ncd backend\nif [ ! -d \"venv\" ]; then\n    python3 -m venv venv\nfi\nsource venv/bin/activate\npip install -r requirements.txt"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCreate .env if it doesn't exist\n\nif [ ! -f \".env\" ]; then\n    cp .env.example .env\nfi"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFrontend setup\n\ncd ../frontend\nnpm install\n\necho \"Setup complete! Start services:\"\necho \"Backend: cd backend && source venv/bin/activate && PYTHONPATH=.. python3 -m uvicorn app.server:app --reload\"\necho \"Frontend: cd frontend && npm run dev\"\n```\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nKubernetes Deployment with Vault Secrets Management"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nOverview\n\n\nCanopy is deployed to a Raspberry Pi k3s cluster (eldertree) using Kubernetes manifests. **Use Helm charts where applicable** for better maintainability and reusability. When Helm charts are not available or not suitable, use raw YAML manifests. **ALL secrets are managed through Vault** and automatically synced to Kubernetes via External Secrets Operator. This ensures no hardcoded secrets in deployment files and centralized secret management."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nPrerequisites\n\n\n- k3s cluster running (eldertree control plane)\n- Vault deployed and accessible\n- External Secrets Operator installed and configured\n- ClusterSecretStore configured for Vault\n- kubectl configured with `~/.kube/config-eldertree`"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nVault Secrets Configuration\n\n\n**All Canopy secrets are stored in Vault at these paths:**\n\n- `secret/canopy/postgres` - PostgreSQL password\n- `secret/canopy/app` - Application secret key\n- `secret/canopy/database` - Complete database URL\n\n**Setting Secrets in Vault:**\n\n```bash"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nGet Vault pod\n\nVAULT_POD=$(kubectl get pods -n vault -l app.kubernetes.io/name=vault -o jsonpath='{.items[0].metadata.name}')"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nSet PostgreSQL password\n\nkubectl exec -n vault $VAULT_POD -- sh -c \"export VAULT_ADDR=http://127.0.0.1:8200 && export VAULT_TOKEN=root && vault kv put secret/canopy/postgres password=\\$(python3 -c 'import secrets; print(secrets.token_urlsafe(16))')\""
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nSet application secret key\n\nkubectl exec -n vault $VAULT_POD -- sh -c \"export VAULT_ADDR=http://127.0.0.1:8200 && export VAULT_TOKEN=root && vault kv put secret/canopy/app secret-key=\\$(python3 -c 'import secrets; print(secrets.token_urlsafe(32))')\""
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nSet database URL (use password from postgres secret)\n\nPOSTGRES_PWD=$(kubectl exec -n vault $VAULT_POD -- sh -c \"export VAULT_ADDR=http://127.0.0.1:8200 && export VAULT_TOKEN=root && vault kv get -field=password secret/canopy/postgres\")\nkubectl exec -n vault $VAULT_POD -- sh -c \"export VAULT_ADDR=http://127.0.0.1:8200 && export VAULT_TOKEN=root && vault kv put secret/canopy/database url=postgresql+psycopg://canopy:$POSTGRES_PWD@canopy-postgres:5432/canopy\"\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nExternalSecret Resource\n\n\nThe ExternalSecret resource automatically syncs secrets from Vault to Kubernetes:\n\n```yaml"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nLocated at: pi-fleet/clusters/eldertree/infrastructure/external-secrets/externalsecrets/canopy-secrets.yaml\n\napiVersion: external-secrets.io/v1beta1\nkind: ExternalSecret\nmetadata:\n  name: canopy-secrets\n  namespace: canopy\nspec:\n  refreshInterval: 24h\n  secretStoreRef:\n    name: vault\n    kind: ClusterSecretStore\n  target:\n    name: canopy-secrets\n    creationPolicy: Owner\n  data:\n    - secretKey: postgres-password\n      remoteRef:\n        key: secret/canopy/postgres\n        property: password\n    - secretKey: secret-key\n      remoteRef:\n        key: secret/canopy/app\n        property: secret-key\n    - secretKey: database-url\n      remoteRef:\n        key: secret/canopy/database\n        property: url\n```\n\n**Important:** This ExternalSecret is managed by Flux GitOps in the pi-fleet repository. It automatically syncs secrets every 24 hours."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nKubernetes Deployment Configuration\n\n\n**Deployment File:** `k8s/deploy.yaml`\n\n**Key Features:**\n- API deployment with 2 replicas\n- Frontend deployment with 2 replicas\n- PostgreSQL StatefulSet with persistent storage (10Gi)\n- Redis deployment for caching\n- All secrets referenced via `secretKeyRef` from `canopy-secrets`\n- Resource limits configured for Raspberry Pi constraints\n\n**Environment Variables from Secrets:**\n\n```yaml\nenv:\n  - name: DATABASE_URL\n    valueFrom:\n      secretKeyRef:\n        name: canopy-secrets\n        key: database-url\n  - name: SECRET_KEY\n    valueFrom:\n      secretKeyRef:\n        name: canopy-secrets\n        key: secret-key\n  - name: POSTGRES_PASSWORD  # For PostgreSQL container\n    valueFrom:\n      secretKeyRef:\n        name: canopy-secrets\n        key: postgres-password\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDeployment Steps\n\n\n1. **Ensure Vault secrets are set** (see above)\n\n2. **Verify ExternalSecret is syncing:**\n```bash\nkubectl get externalsecret canopy-secrets -n canopy\nkubectl get secret canopy-secrets -n canopy\n```\n\n3. **Deploy application:**\n```bash\nexport KUBECONFIG=~/.kube/config-eldertree\nkubectl apply -f k8s/deploy.yaml\nkubectl apply -f k8s/service.yaml\nkubectl apply -f k8s/ingress.yaml\n```\n\n4. **Verify deployment:**\n```bash\nkubectl get pods -n canopy\nkubectl get svc -n canopy\nkubectl get ingress -n canopy\nkubectl logs -f deployment/canopy-api -n canopy\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nIngress Configuration\n\n\n**File:** `k8s/ingress.yaml`\n\n- Host: `canopy.eldertree.local`\n- TLS: Managed by cert-manager with self-signed certificates\n- Paths:\n  - `/api` â†’ canopy-api service (port 8000)\n  - `/` â†’ canopy-frontend service (port 3000)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nResource Requirements\n\n\n**Per Replica:**\n- API: 256Mi RAM, 250m CPU (limits: 512Mi, 500m)\n- Frontend: 128Mi RAM, 100m CPU (limits: 256Mi, 200m)\n- Redis: 64Mi RAM, 50m CPU (limits: 128Mi, 100m)\n- PostgreSQL: 256Mi RAM, 250m CPU (limits: 512Mi, 500m)\n\n**Total (2 API + 2 Frontend):**\n- ~1.2Gi RAM\n- ~1 CPU"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nSecurity Best Practices\n\n\nâœ… **All secrets in Vault** - Single source of truth  \nâœ… **External Secrets Operator** - Automatic sync every 24 hours  \nâœ… **No hardcoded secrets** - All deployments use `secretKeyRef`  \nâœ… **Safe defaults** - Config files have development defaults only  \nâœ… **Production overrides** - Environment variables from secrets override defaults"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCheck ExternalSecret status\n\nkubectl describe externalsecret canopy-secrets -n canopy"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCheck External Secrets Operator logs\n\nkubectl logs -n external-secrets deployment/external-secrets"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nVerify secrets exist in Vault\n\nVAULT_POD=$(kubectl get pods -n vault -l app.kubernetes.io/name=vault -o jsonpath='{.items[0].metadata.name}')\nkubectl exec -n vault $VAULT_POD -- sh -c \"export VAULT_ADDR=http://127.0.0.1:8200 && export VAULT_TOKEN=root && vault kv list secret/canopy/\"\n```\n\n**Pods failing to start:**\n```bash"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCheck pod logs\n\nkubectl logs deployment/canopy-api -n canopy"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCheck if secrets exist\n\nkubectl get secret canopy-secrets -n canopy -o yaml"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nVerify environment variables\n\nkubectl exec deployment/canopy-api -n canopy -- env | grep -E \"DATABASE_URL|SECRET_KEY\"\n```\n\n**Database connection issues:**\n```bash"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nVerify PostgreSQL is running\n\nkubectl get pods -n canopy | grep postgres"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCheck PostgreSQL logs\n\nkubectl logs statefulset/canopy-postgres -n canopy"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTest database connection from API pod\n\nkubectl exec deployment/canopy-api -n canopy -- python3 -c \"import os; print(os.getenv('DATABASE_URL'))\"\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCI/CD Integration\n\n\nCanopy uses GitHub Actions with a self-hosted runner on the Pi cluster. The workflow:\n1. Builds Docker images\n2. Pushes to GHCR (ghcr.io/raolivei/canopy-api:v1.0.0)\n3. Applies Kubernetes manifests\n4. Restarts deployments to pull latest images\n\n**Important:** Secrets are NOT managed by CI/CD. They are set manually in Vault and synced automatically by External Secrets Operator.\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBase URL\n\n- Development: `http://localhost:8000`\n- API Prefix: `/v1`"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nHealth Check\n\n- `GET /v1/health`\n- Response: `{\"status\": \"healthy\", \"environment\": \"development\"}`"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTransactions\n\n\n**List Transactions**\n- `GET /v1/transactions/`\n- Query Params:\n  - `currency` (optional): Convert all amounts to this currency\n- Response: `Transaction[]`\n\n**Get Transaction**\n- `GET /v1/transactions/{transaction_id}`\n- Response: `Transaction`\n\n**Create Transaction**\n- `POST /v1/transactions/`\n- Body: `TransactionCreate`\n- Response: `Transaction`\n\n**Delete Transaction**\n- `DELETE /v1/transactions/{transaction_id}`\n- Response: `{\"message\": \"Transaction deleted\"}`"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCurrency\n\n\n**Get Supported Currencies**\n- `GET /v1/currency/supported`\n- Response: `{\"currencies\": [\"USD\", \"CAD\", ...], \"default\": \"USD\"}`\n\n**Get Exchange Rates**\n- `GET /v1/currency/rates?base_currency=USD`\n- Response: `{\"base_currency\": \"USD\", \"rates\": {...}, \"date\": \"...\"}`\n\n**Convert Amount**\n- `GET /v1/currency/convert?amount=100&from_currency=USD&to_currency=CAD`\n- Response: `{\"original_amount\": 100, \"original_currency\": \"USD\", \"converted_amount\": 135, \"converted_currency\": \"CAD\", \"exchange_rate\": 1.35}`"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nData Models\n\n\n**Transaction:**\n```json\n{\n  \"id\": 1,\n  \"description\": \"Groceries\",\n  \"amount\": 150.50,\n  \"currency\": \"USD\",\n  \"type\": \"expense\",\n  \"category\": \"Food\",\n  \"date\": \"2024-01-15T10:30:00\",\n  \"account\": \"Checking\"\n}\n```\n\n**TransactionCreate:**\n```json\n{\n  \"description\": \"Salary\",\n  \"amount\": 5000.00,\n  \"currency\": \"USD\",\n  \"type\": \"income\",\n  \"category\": \"Salary\",\n  \"date\": \"2024-01-15T10:30:00\",\n  \"account\": \"Checking\"\n}\n```\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCurrency Conversion Flow\n\n\n1. **Backend:** Stores transactions in original currency\n2. **Frontend:** Fetches transactions, optionally requests conversion\n3. **Display Logic:**\n   - If `showConverted` is true and currency differs from `displayCurrency`:\n     - Show original amount in original currency\n     - Show converted amount in display currency\n     - Format: \"$100.00 (from USD: $135.00 CAD)\"\n   - If same currency or `showConverted` is false:\n     - Show only original amount\n\n**Why Store Original Currency?**\n- **Data Integrity:** Preserves original transaction data without modification.\n- **Audit Trail:** Can always see what currency was actually used.\n- **Accuracy:** Avoids rounding errors from multiple conversions.\n- **Compliance:** Financial records should preserve original values.\n\n**Why Client-Side Conversion?**\n- **Real-Time Updates:** User can change display currency without server round-trip.\n- **Performance:** Conversion is fast, no need to fetch from server.\n- **Offline Capability:** Works even if backend is temporarily unavailable.\n- **Flexibility:** User can toggle conversion on/off without affecting others.\n\n**Why Show Both Original and Converted?**\n- **Transparency:** Users understand the conversion is happening.\n- **Trust:** Shows original value so users can verify conversion is correct.\n- **Clarity:** Prevents confusion about which currency is being displayed.\n- **Compliance:** Financial regulations often require showing original currency."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDark Mode Implementation\n\n\n1. **Toggle:** `DarkModeToggle` component\n2. **Persistence:** localStorage key `darkMode`\n3. **Detection:** Checks system preference if no stored value\n4. **Application:** Adds/removes `dark` class on `document.documentElement`\n5. **Styling:** Tailwind `dark:` variants throughout\n6. **Charts:** Uses `isDarkMode` state for tooltip styling (avoids SSR issues)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nState Management\n\n\n**Dashboard (`index.tsx`):**\n- Fetches transactions on mount\n- Converts amounts when currency changes or `showConverted` toggles\n- Tracks dark mode for chart tooltips (prevents SSR errors)\n\n**Why useState Instead of Global State?**\n- **Simplicity:** No need for Redux/Zustand for MVP scope.\n- **Performance:** React's built-in state management is sufficient.\n- **Maintainability:** Easier to understand and debug than global state.\n- **Migration Path:** Can add state management library later if needed.\n\n**Why Multiple useEffect Hooks?**\n- **Separation of Concerns:** Each effect handles one responsibility.\n- **Performance:** Effects only run when their dependencies change.\n- **Debugging:** Easier to identify which effect is causing issues.\n\n**Transactions (`transactions.tsx`):**\n- Similar currency conversion logic\n- Form state management\n- Loading states\n\n**Why Separate State for Form?**\n- **Isolation:** Form state doesn't affect display until submitted.\n- **UX:** Can reset form without affecting displayed transactions.\n- **Validation:** Can validate form data before submission."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nError Handling\n\n\n- API calls wrapped in try-catch\n- Console error logging\n- Graceful fallbacks (e.g., currency conversion fails â†’ show original amount)\n\n**Why Try-Catch on API Calls?**\n- **Resilience:** App continues working even if API fails.\n- **User Experience:** Show meaningful errors instead of crashing.\n- **Debugging:** Console logs help identify issues during development.\n\n**Why Graceful Fallbacks?**\n- **User Experience:** App degrades gracefully rather than breaking completely.\n- **Reliability:** Core functionality (viewing transactions) works even if advanced features fail.\n- **Progressive Enhancement:** Basic features work, enhanced features add value when available.\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nRunning Locally\n\n\n1. **Start infrastructure:**\n```bash\ndocker compose up -d\n```\n\n2. **Start backend (terminal 1):**\n```bash\ncd backend\nsource venv/bin/activate\nPYTHONPATH=/path/to/canopy/backend python3 -m uvicorn app.server:app --reload --host 0.0.0.0 --port 8000\n```\n\n3. **Start frontend (terminal 2):**\n```bash\ncd frontend\nnpm run dev\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTesting\n\n\n**Backend:**\n```bash\ncd backend\npytest\n```\n\n**Frontend:**\n```bash\ncd frontend\nnpm run lint\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nNo build step needed, but ensure dependencies are installed\n\npip install -r requirements.txt\n```\n\n**Frontend:**\n```bash\ncd frontend\nnpm run build\nnpm start\n```\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nComplete Feature Roadmap\n\n\nCanopy is designed to be a comprehensive personal finance management application. The following is the complete list of functionalities that Canopy supports or will support:"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCore Features (MVP - Partially Implemented)\n\n- âœ… **Dashboard**: View an overall summary of finances, insights, and activity reports\n- âœ… **Transactions**: See, edit, categorize transactions; manual entries (export, rules, recurring - planned)\n- ðŸ”„ **Accounts**: Track and manage financial accounts (placeholder page created)\n- ðŸ”„ **Cash Flow**: Analyze income and expenses by category, merchant, and timeframe (basic charts implemented)\n- ðŸ”„ **Reports**: Generate detailed reports on spending, cash flow, and income analytics (basic implementation)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBudgeting & Planning\n\n- **Budget/Plan**: Set and monitor budgets, allocate funds, track actuals, and forecast expenses\n- **Recurring Payments**: Manage subscriptions and regular payments\n- **Goals/Objectives**: Create, track, and manage savings goals (e.g., retirement, travel)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nInvestment Management\n\n- **Investments**: Monitor investment holdings, allocation, performance, and portfolio details (placeholder page created)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFinancial Intelligence\n\n- **Advice**: Receive financial recommendations, guidance, and tips\n- **Assistant**: Get automated help or perform tasks within the app"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nUser Management\n\n- **Profile**: Edit personal data, household info, display, and notifications (settings page created)\n- **Security**: Manage sign-in security and password controls\n- **Members**: Add/manage household or family member access"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nConfiguration & Preferences\n\n- âœ… **Preferences**: Set language, currency, and display options (currency selector implemented)\n- **Institutions**: Link/manage bank/financial connections\n- **Categories**: Organize transactions and budgets by categories (basic support implemented)\n- **Merchants**: Manage merchant data and group transactions\n- **Rules**: Set up automation for categorization and alerts\n- **Tags**: Tag and organize financial data"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nData Management\n\n- **Data**: Import/export options and integrations (CSV/OFX import planned)\n- **Billing**: Monitor subscription/payment details\n- **Referrals**: Manage and track referral rewards"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTechnical Enhancements Needed\n\n- Database persistence (currently in-memory)\n- User authentication and authorization\n- CSV/OFX import functionality\n- Real-time exchange rate fetching\n- Backup to S3-compatible storage\n- Advanced reporting engine\n- Notification system\n- Search and filtering capabilities\n- Bulk operations support"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nExample Usage Scenarios\n\n\n**Example 1:** \"Show my investment performance and generate a cash flow report, then categorize recent transactions and update my budget forecast for November. Also, review security settings and add a new household member with access.\"\n\n**Example 2:** \"Import transactions from my bank CSV, apply categorization rules, create a budget for groceries and dining, set up a recurring payment reminder for my mortgage, and track progress toward my vacation savings goal.\"\n\n**Example 3:** \"Generate a spending report by category for the last quarter, identify top merchants, set up alerts for large transactions, and show me recommendations for reducing expenses.\""
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nImplementation Priority\n\n\n**Phase 1 (Current MVP):**\n- âœ… Dashboard with basic stats and charts\n- âœ… Transaction CRUD operations\n- âœ… Multi-currency support\n- âœ… Dark mode\n- ðŸ”„ Basic account management\n\n**Phase 2 (Near-term):**\n- Database persistence\n- User authentication\n- Category management\n- Basic budgeting\n- CSV import\n\n**Phase 3 (Mid-term):**\n- Investment tracking\n- Advanced reporting\n- Recurring transactions\n- Goals tracking\n- Rules engine\n\n**Phase 4 (Long-term):**\n- Financial advice engine\n- Automated assistant\n- Advanced analytics\n- Bank integrations\n- Mobile app\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nImportant Notes\n\n\n1. **Current Storage:** Transactions are stored in-memory and will be lost on server restart. Database integration is planned.\n\n2. **Exchange Rates:** Currently using mock exchange rates. Real API integration (e.g., exchangerate-api.io) should be added.\n\n3. **CORS:** Currently allows all origins on localhost:3000. Should be restricted in production.\n\n4. **Error Handling:** Basic error handling implemented. Should be enhanced with proper error responses and logging.\n\n5. **Testing:** Unit tests not yet implemented. Should add pytest tests for backend and Jest/React Testing Library for frontend.\n\n6. **Type Safety:** Frontend uses TypeScript, backend uses Pydantic for validation. Both should be strictly enforced.\n\n7. **Performance:** Currency conversion happens client-side per transaction. Consider batching or server-side conversion for large datasets.\n\n8. **Pydantic Version Compatibility:** The code uses `model_dump()` for Pydantic v2 compatibility with a fallback to `dict()` for Pydantic v1. Ensure you're using Pydantic v2 (`pydantic>=2.6.0`) for best compatibility.\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBackend won't start\n\n- Check Python version (3.10+)\n- Verify virtual environment is activated\n- Check PYTHONPATH is set correctly\n- Ensure port 8000 is not in use"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nFrontend won't start\n\n- Check Node.js version (18+)\n- Delete `node_modules` and `package-lock.json`, then `npm install`\n- Check port 3000 is not in use"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCurrency conversion not working\n\n- Verify backend is running on port 8000\n- Check browser console for CORS errors\n- Verify API endpoint responds: `curl http://localhost:8000/v1/currency/supported`"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDark mode not persisting\n\n- Check browser localStorage is enabled\n- Verify `DarkModeToggle` component is mounted\n- Check browser console for errors\n\n---"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nContact & Contribution\n\n\nThis master prompt should provide everything needed to recreate Canopy. For questions or contributions, refer to the main README.md.\n\n---\n\n**Last Updated:** 2024-01-15\n**Version:** 0.1.0"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCSV Import Guide\n\n\nCanopy provides comprehensive CSV import functionality to help you import transactions from various financial institutions and apps like Monarch Money, Chase, Bank of America, and more."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nQuick Start\n\n\n1. Navigate to the **Import** page from the sidebar\n2. Select your bank format from the dropdown (or use Generic for custom CSVs)\n3. Drag and drop your CSV file or click to browse\n4. Review the import preview\n5. Click \"Import\" to add transactions to your account"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nMonarch Money\n\nFull support for Monarch Money CSV exports including:\n- Clean merchant names\n- Original statement text\n- Categories and tags\n- Investment transactions (Buy/Sell)\n- Multiple account tracking\n- Notes\n\n**Required Columns:** Date, Merchant, Category, Account, Amount"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nChase Bank\n\n- **Columns:** Posting Date, Description, Amount, Type, Category, Balance\n- **Date Format:** MM/DD/YYYY"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBank of America\n\n- **Columns:** Date, Description, Amount, Running Bal.\n- **Date Format:** MM/DD/YYYY"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nWells Fargo\n\n- **Columns:** Date, Description, Amount\n- **Date Format:** MM/DD/YYYY"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCapital One\n\n- **Columns:** Transaction Date, Description, Debit, Credit, Category\n- **Date Format:** YYYY-MM-DD"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAmerican Express\n\n- **Columns:** Date, Description, Amount\n- **Date Format:** MM/DD/YYYY"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTD Bank\n\n- **Columns:** Date, Description, Debit, Credit\n- **Date Format:** MM/DD/YYYY"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nRBC (Royal Bank of Canada)\n\n- **Columns:** Transaction Date, Description, Debit, Credit, Account Number\n- **Date Format:** MM/DD/YYYY"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nNubank\n\n- **Columns:** date, title, amount, category\n- **Date Format:** YYYY-MM-DD"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nGeneric CSV\n\nUse this option for any CSV file and manually map columns using the custom mapping feature."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nðŸŽ¯ Smart Format Detection\n\nCanopy automatically detects your bank's CSV format based on column headers."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nðŸ” Duplicate Detection\n\nThe system checks for duplicate transactions based on:\n- Transaction date\n- Amount\n- Description\n\nDuplicates are flagged in the preview and can be skipped during import."
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nðŸ’° Multi-Currency Support\n\nImport transactions in any of these currencies:\n- USD (US Dollar)\n- CAD (Canadian Dollar)\n- BRL (Brazilian Real)\n- EUR (Euro)\n- GBP (British Pound)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nðŸ“Š Import Preview\n\nBefore importing, you'll see:\n- Total rows detected\n- Valid transactions\n- Number of duplicates\n- Any errors or issues\n- Transaction details preview"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nðŸ·ï¸ Rich Transaction Data\n\nWhen importing from Monarch Money or using custom mapping, you get:\n- **Merchant** - Clean merchant name (e.g., \"Apple\", \"Starbucks\")\n- **Original Statement** - Raw bank statement text\n- **Category** - Transaction category\n- **Account** - Source account\n- **Notes** - Transaction notes\n- **Tags** - Transaction tags\n- **Ticker** - Stock ticker for investment transactions"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nðŸ“ˆ Investment Tracking\n\nImport investment transactions with automatic detection of:\n- Buy/Sell transactions\n- Ticker symbols (e.g., VTI, AAPL, ZJPN.F)\n- Transaction amounts"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nCustom Field Mapping\n\n\nIf your bank's CSV format isn't in the presets, you can use custom mapping:\n\n1. Select \"Custom\" from the Bank Format dropdown\n2. Upload your CSV\n3. Map the columns:\n   - **Date Column** (required)\n   - **Description Column** (required)\n   - **Amount Column** OR **Debit/Credit Columns** (required)\n   - Category Column (optional)\n   - Account Column (optional)\n   - Merchant Column (optional)\n   - Notes Column (optional)\n   - Tags Column (optional)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nExample CSV Formats\n\n\nSee the `examples/` directory for sample CSV files:\n- `monarch_transactions.csv` - Full Monarch Money export\n- `chase_transactions.csv` - Chase Bank format\n- `generic_transactions.csv` - Simple generic format"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nMinimum Requirements\n\nYour CSV must have at least:\n1. A date column\n2. A description column\n3. An amount column (or separate debit/credit columns)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nDate Formats\n\nSupported date formats include:\n- YYYY-MM-DD (2025-01-15)\n- MM/DD/YYYY (01/15/2025)\n- DD/MM/YYYY (15/01/2025)\n- YYYY/MM/DD (2025/01/15)"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nAmount Formats\n\nSupported amount formats:\n- Decimal: `123.45`\n- With currency symbol: `$123.45`, `â‚¬123.45`, `R$123.45`\n- With commas: `1,234.56`\n- Negative: `-123.45`\n- Accounting format: `(123.45)` = negative"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTransaction Types\n\nThe system automatically infers transaction types:\n- **Income** - Positive amounts, deposits, payments received\n- **Expense** - Negative amounts, purchases, withdrawals\n- **Transfer** - Account transfers\n- **Buy** - Investment purchases\n- **Sell** - Investment sales"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nImport History\n\n\nView your import history to track:\n- Import date and time\n- File name\n- Number of transactions imported\n- Number skipped (duplicates)\n- Any errors encountered"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n\"Failed to parse date\"\n\n- Check that your CSV uses one of the supported date formats\n- Try manually specifying the date format in custom mapping"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n\"No transactions detected\"\n\n- Verify your CSV has data rows (not just headers)\n- Check that columns are properly separated by commas\n- Try opening the CSV in a text editor to verify format"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n\"Duplicate transactions\"\n\n- This means transactions with the same date, amount, and description already exist\n- You can choose to skip duplicates (recommended) or import them anyway"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\n\"Failed to detect bank format\"\n\n- Use the \"Generic\" or \"Custom\" format option\n- Manually map your CSV columns"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nPreview Import\n\n```bash\ncurl -X POST http://localhost:8000/v1/csv-import/preview \\\n  -F \"file=@transactions.csv\" \\\n  -F \"bank_format=monarch\" \\\n  -F \"default_currency=USD\"\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nImport Transactions\n\n```bash\ncurl -X POST http://localhost:8000/v1/csv-import/import \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"import_id\": \"uuid-here\",\n    \"skip_duplicates\": true,\n    \"skip_errors\": true\n  }'\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nGet Import History\n\n```bash\ncurl http://localhost:8000/v1/csv-import/history\n```"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nBest Practices\n\n\n1. **Always preview before importing** - Check for errors and duplicates\n2. **Keep original CSV files** - Store backups of your bank exports\n3. **Import regularly** - Weekly or monthly imports are easier to manage\n4. **Review categories** - Monarch Money has excellent categorization; other banks may need manual category assignment\n5. **Use tags** - Tag transactions for better organization\n6. **Check for duplicates** - Enable duplicate detection to avoid double-counting"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nTips for Monarch Money Users\n\n\nMonarch Money exports contain rich data. To get the most out of it:\n- Export from Monarch regularly to keep LedgerLight in sync\n- The \"Original Statement\" field preserves raw bank data for reference\n- Investment transactions automatically extract ticker symbols\n- Categories are preserved exactly as in Monarch\n- Use the Account field to track which credit card or bank account was used"
  },
  {
    "question": "Tell me about Canopy ",
    "answer": "Canopy :\n\nSupport\n\n\nFor additional help or to report issues with CSV imports:\n- Check the main README.md\n- Review ARCHITECTURE.md for technical details\n- Open an issue on GitHub"
  },
  {
    "question": "Give me an overview of Canopy",
    "answer": "# Canopy\n\n**Your financial life. Under one canopy.**\n\nCanopy is a self-hosted personal finance, investment, and budgeting dashboard inspired by Monarch Money, Ghostfolio, and Firefly III. It runs fully local on Raspberry Pi k3s clusters with a lean footprint, storing all data locally without cloud dependencies.\n\n## Project Objectives  \n- Combine portfolio, budgeting, and net-worth views into a single dashboard.  \n- Store all data locally â€” no cloud dependencies.  \n- Support multi-currency (CAD, USD, BRL, EUR, GBP) assets.  \n- Allow easy CSV/OFX imports for banks and brokerages.  \n- Run lean â€” optimized for Raspberry Pi hardware.  \n- Be modular so other developers can fork and extend.\n\n### Design Rationale"
  }
]